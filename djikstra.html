<!DOCTYPE html>
<html>
<head>
	<title>Shortest path calculator</title>
</head>
<body>
	<form>
		Nos can be between 0 and 8:<br>
		{ { 0, 4 , 0, 0 , 0 , 0 , 0, 8 , 0 }, <br>
		{ 4, 0 , 8, 0 , 0 , 0 , 0, 11, 0 }, <br>
		{ 0, 8 , 0, 7 , 0 , 4 , 0, 0 , 2 }, <br>
		{ 0, 0 , 7, 0 , 9 , 14, 0, 0 , 0 }, <br>
		{ 0, 0 , 0, 9 , 0 , 10, 0, 0 , 0 }, <br>
		{ 0, 0 , 4, 14, 10, 0 , 2, 0 , 0 }, <br>
		{ 0, 0 , 0, 0 , 0 , 2 , 0, 1 , 6 }, <br>
		{ 8, 11, 0, 0 , 0 , 0 , 1, 0 , 7 }, <br>
		{ 0, 0 , 2, 0 , 0 , 0 , 6, 7 , 0 } }; <br>
		<img src="https://www.geeksforgeeks.org/wp-content/uploads/Fig-11.jpg"><br>
		Enter source: <input type="number" id="source"><br>
		Enter destination: <input type="number" id="dest"><br>
		Select cost factor: <br>
		<input type="radio" name="cost" value="distance" checked>Distance<br>
		<input type="radio" name="cost" value="time" disabled>Time<br>
		<input type="radio" name="cost" value="expense" disabled>Expense<br>
		<input type="button" onclick="findRoute()" value="Find route">
		<div id="route"></div>
	</form>
</body>

<script>
	function findRoute() {
		var graph  = []
		graph[0] = []
		graph[0][0] = {"distance": 0, "cost": 0, "time": 0};
		graph[0][1] = {"distance": 4, "cost": 0, "time": 0};
		graph[0][2] = {"distance": 0, "cost": 0, "time": 0};
		graph[0][3] = {"distance": 0, "cost": 0, "time": 0};
		graph[0][4] = {"distance": 0, "cost": 0, "time": 0};
		graph[0][5] = {"distance": 0, "cost": 0, "time": 0};
		graph[0][6] = {"distance": 0, "cost": 0, "time": 0};
		graph[0][7] = {"distance": 8, "cost": 0, "time": 0};
		graph[0][8] = {"distance": 0, "cost": 0, "time": 0};

		graph[1] = []
		graph[1][0] = {"distance": 4, "cost": 0, "time": 0};
		graph[1][1] = {"distance": 0, "cost": 0, "time": 0};
		graph[1][2] = {"distance": 8, "cost": 0, "time": 0};
		graph[1][3] = {"distance": 0, "cost": 0, "time": 0};
		graph[1][4] = {"distance": 0, "cost": 0, "time": 0};
		graph[1][5] = {"distance": 0, "cost": 0, "time": 0};
		graph[1][6] = {"distance": 0, "cost": 0, "time": 0};
		graph[1][7] = {"distance": 11, "cost": 0, "time": 0};
		graph[1][8] = {"distance": 0, "cost": 0, "time": 0};

		graph[2] = []
		graph[2][0] = {"distance": 0, "cost": 0, "time": 0};
		graph[2][1] = {"distance": 8, "cost": 0, "time": 0};
		graph[2][2] = {"distance": 0, "cost": 0, "time": 0};
		graph[2][3] = {"distance": 7, "cost": 0, "time": 0};
		graph[2][4] = {"distance": 0, "cost": 0, "time": 0};
		graph[2][5] = {"distance": 4, "cost": 0, "time": 0};
		graph[2][6] = {"distance": 0, "cost": 0, "time": 0};
		graph[2][7] = {"distance": 0, "cost": 0, "time": 0};
		graph[2][8] = {"distance": 2, "cost": 0, "time": 0};

		graph[3] = []
		graph[3][0] = {"distance": 0, "cost": 0, "time": 0};
		graph[3][1] = {"distance": 0, "cost": 0, "time": 0};
		graph[3][2] = {"distance": 7, "cost": 0, "time": 0};
		graph[3][3] = {"distance": 0, "cost": 0, "time": 0};
		graph[3][4] = {"distance": 9, "cost": 0, "time": 0};
		graph[3][5] = {"distance": 14, "cost": 0, "time": 0};
		graph[3][6] = {"distance": 0, "cost": 0, "time": 0};
		graph[3][7] = {"distance": 0, "cost": 0, "time": 0};
		graph[3][8] = {"distance": 0, "cost": 0, "time": 0};

		graph[4] = []
		graph[4][0] = {"distance": 0, "cost": 0, "time": 0};
		graph[4][1] = {"distance": 0, "cost": 0, "time": 0};
		graph[4][2] = {"distance": 0, "cost": 0, "time": 0};
		graph[4][3] = {"distance": 9, "cost": 0, "time": 0};
		graph[4][4] = {"distance": 0, "cost": 0, "time": 0};
		graph[4][5] = {"distance": 10, "cost": 0, "time": 0};
		graph[4][6] = {"distance": 0, "cost": 0, "time": 0};
		graph[4][7] = {"distance": 0, "cost": 0, "time": 0};
		graph[4][8] = {"distance": 0, "cost": 0, "time": 0};

		graph[5] = []
		graph[5][0] = {"distance": 0, "cost": 0, "time": 0};
		graph[5][1] = {"distance": 0, "cost": 0, "time": 0};
		graph[5][2] = {"distance": 4, "cost": 0, "time": 0};
		graph[5][3] = {"distance": 14, "cost": 0, "time": 0};
		graph[5][4] = {"distance": 10, "cost": 0, "time": 0};
		graph[5][5] = {"distance": 0, "cost": 0, "time": 0};
		graph[5][6] = {"distance": 2, "cost": 0, "time": 0};
		graph[5][7] = {"distance": 0, "cost": 0, "time": 0};
		graph[5][8] = {"distance": 0, "cost": 0, "time": 0};

		graph[6] = []
		graph[6][0] = {"distance": 0, "cost": 0, "time": 0};
		graph[6][1] = {"distance": 0, "cost": 0, "time": 0};
		graph[6][2] = {"distance": 0, "cost": 0, "time": 0};
		graph[6][3] = {"distance": 0, "cost": 0, "time": 0};
		graph[6][4] = {"distance": 0, "cost": 0, "time": 0};
		graph[6][5] = {"distance": 2, "cost": 0, "time": 0};
		graph[6][6] = {"distance": 0, "cost": 0, "time": 0};
		graph[6][7] = {"distance": 1, "cost": 0, "time": 0};
		graph[6][8] = {"distance": 6, "cost": 0, "time": 0};

		graph[7] = []
		graph[7][0] = {"distance": 8, "cost": 0, "time": 0};
		graph[7][1] = {"distance": 11, "cost": 0, "time": 0};
		graph[7][2] = {"distance": 0, "cost": 0, "time": 0};
		graph[7][3] = {"distance": 0, "cost": 0, "time": 0};
		graph[7][4] = {"distance": 0, "cost": 0, "time": 0};
		graph[7][5] = {"distance": 0, "cost": 0, "time": 0};
		graph[7][6] = {"distance": 1, "cost": 0, "time": 0};
		graph[7][7] = {"distance": 0, "cost": 0, "time": 0};
		graph[7][8] = {"distance": 7, "cost": 0, "time": 0};

		graph[8] = []
		graph[8][0] = {"distance": 0, "cost": 0, "time": 0};
		graph[8][1] = {"distance": 0, "cost": 0, "time": 0};
		graph[8][2] = {"distance": 2, "cost": 0, "time": 0};
		graph[8][3] = {"distance": 0, "cost": 0, "time": 0};
		graph[8][4] = {"distance": 0, "cost": 0, "time": 0};
		graph[8][5] = {"distance": 0, "cost": 0, "time": 0};
		graph[8][6] = {"distance": 6, "cost": 0, "time": 0};
		graph[8][7] = {"distance": 7, "cost": 0, "time": 0};
		graph[8][8] = {"distance": 0, "cost": 0, "time": 0};

		var source = parseInt(document.getElementById('source').value);
		var destination = parseInt(document.getElementById('dest').value);
		var path = dijsktra(graph, source, destination)
		path = path.reverse();

		var op = document.getElementById('route');
		op.innerText = ""
		for(i=0; i<path.length-1; i++){
			op.innerText += path[i].id + "->"
		}
		op.innerText += path[path.length-1].id
	}

	function dijsktra(graph, source, destination){
		var nodes = []
		for (var i =0; i < graph.length; i++) {
			nodes[i]= {}
			nodes[i].id = i;
			nodes[i].distance = Number.MAX_VALUE;
			nodes[i].parent = -1;
			nodes[i].selected = false;
		}
		nodes[source].distance = 0;

		for(var i=0; i<graph.length-1; i++){
			var minVertex = minDistance(nodes)
			nodes[minVertex].selected = true;

			for(var vertex = 0; vertex < graph.length; vertex++){
				if(!nodes[vertex].selected && 
					graph[minVertex][vertex].distance!=0 && 
					(nodes[minVertex].distance+graph[minVertex][vertex].distance) < nodes[vertex].distance){

					nodes[vertex].distance = nodes[minVertex].distance+graph[minVertex][vertex].distance;
					nodes[vertex].parent = minVertex;
				}
			}
		}

		return findPath(nodes, destination, source);
	}

	function findPath(nodes, destination, source){
		var path = []
		var index = destination;
		while(index != source){
			path.push(nodes[index]);
			index = nodes[index].parent;
		}
		path.push(nodes[index])
		return path;
	}

	function minDistance(nodes){
		var min  = Number.MAX_VALUE, minIndex;
		for(var vertex = 0; vertex < nodes.length; vertex++){
			if(nodes[vertex].selected == false && nodes[vertex].distance <= min){
				min = nodes[vertex].distance;
				minIndex = vertex;
			}
		}
		return minIndex;
	}

</script>

</html>
